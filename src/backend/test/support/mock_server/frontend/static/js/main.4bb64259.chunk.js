(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},45:function(e,t,n){e.exports=n(60)},50:function(e,t,n){},60:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(27),c=n.n(s),o=(n(50),n(1)),l=n(2),i=n(6),u=n(5),h=n(7),p=n(3),m=n(22),d=(n(14),function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("nav",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(p.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/posts",id:"posts_link"},"Posts")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/secrets/"},"Secrets")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/chat/"},"Chat")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/slow/"},"A Slow Page")),r.a.createElement("li",null,r.a.createElement(p.b,{to:"/really_slow/"},"A Really Slow Page"))))}}]),t}(r.a.Component)),f=n(10),g=n(41),b=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={currentMessage:"",messages:[]},n.client=new g.w3cwebsocket("ws://localhost:3000:3002"),n.sendMessage=n.sendMessage.bind(Object(f.a)(n)),n.addMessage=n.addMessage.bind(Object(f.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(f.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.client.onopen=function(){console.log("WebSocket Client Connected")},this.client.onmessage=function(t){var n={data:t.data,direction:"incoming"};e.addMessage(n)}}},{key:"addMessage",value:function(e){this.setState(function(t){var n=JSON.parse(JSON.stringify(t.messages));return n.push(e),console.log("Adding a new message"),console.log(e),{messages:n}})}},{key:"sendMessage",value:function(){var e=this.state.currentMessage,t={data:e,direction:"outgoing"};this.client.send(e),this.addMessage(t)}},{key:"renderMessage",value:function(e){var t="outgoing"===e.direction?"green":"red";return r.a.createElement("p",{style:{color:t}},e.data)}},{key:"handleInputChange",value:function(e){var t=e.target.value;this.setState({currentMessage:t})}},{key:"render",value:function(){var e=this.state.messages,t=this.state.currentMessage;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("p",null,"Welcome to the chat room!"),r.a.createElement("input",{name:"name",value:t,onChange:this.handleInputChange}),r.a.createElement("button",{onClick:this.sendMessage},"Send Message")),r.a.createElement("br",null),r.a.createElement("div",null,r.a.createElement("b",null,"Message Log:"),e.map(this.renderMessage)))}}]),t}(r.a.Component),E=n(4),v=n.n(E),j=n(13),O=function e(){Object(o.a)(this,e),this.ITEM_COLLECTION_URL="http://localhost:3000/api/posts.json"},y=function(){function e(){Object(o.a)(this,e),this.config=new O}return Object(l.a)(e,[{key:"retrievePosts",value:function(){var e=Object(j.a)(v.a.mark(function e(){var t,n,a=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.config.ITEM_COLLECTION_URL,n={},e.abrupt("return",fetch(t,{headers:n}).then(function(e){return e.ok||a.handleResponseError(e),e.json()}).then(function(e){return e}).catch(function(e){a.handleError(e)}));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getPost",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/posts/"+t+".json",a={},e.abrupt("return",fetch(n,{headers:a}).then(function(e){return e.ok||r.handleResponseError(e),e.json()}).then(function(e){return e}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"createPost",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3000/api/posts.json",n={"Content-Type":"application/json"},e.abrupt("return",fetch("http://localhost:3000/api/posts.json",{method:"POST",mode:"cors",headers:n,body:JSON.stringify(t)}).then(function(e){return e.ok||a.handleResponseError(e),e.json()}).catch(function(e){a.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"deletePost",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/posts/"+t+".json",a={},e.abrupt("return",fetch(n,{method:"DELETE",headers:a,mode:"cors"}).then(function(e){e.ok||r.handleResponseError(e)}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updatePost",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/posts/"+t.id+".json",a={"Content-Type":"application/json"},e.abrupt("return",fetch(n,{method:"PATCH",mode:"cors",headers:a,body:JSON.stringify(t)}).then(function(e){return e.ok||r.handleResponseError(e),e.json()}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleResponseError",value:function(e){throw new Error("HTTP error, status = "+e.status)}},{key:"handleError",value:function(e){alert(e.message)}}]),e}(),S=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).postLink=n.postLink.bind(Object(f.a)(n)),n.postService=new y,n.state={posts:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPosts()}},{key:"getPosts",value:function(){var e=this;this.postService.retrievePosts().then(function(t){e.setState({posts:t})})}},{key:"postLink",value:function(e){return"/posts/"+e}},{key:"render",value:function(){var e=this,t=this.state.posts;return t?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Posts"),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/posts/new"},"New Post")),r.a.createElement("table",{className:"posts"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Title"),r.a.createElement("th",null,"Body"),r.a.createElement("th",null,"User"))),r.a.createElement("tbody",null,t.map(function(t){return r.a.createElement("tr",{key:t.id},r.a.createElement("td",null,t.title),r.a.createElement("td",null,t.body),r.a.createElement("td",null,t.user_id),r.a.createElement("td",null,r.a.createElement(p.b,{to:e.postLink(t.id)},"Show")))})))):null}}]),t}(a.Component),k=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).postService=new y,n.state={post:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getPost()}},{key:"getPost",value:function(){var e=this,t=this.props.match.params.id;"new"!=t&&this.postService.getPost(t).then(function(t){e.setState({post:t})})}},{key:"onDelete",value:function(){var e=this,t=this.state.post;if(window.confirm("Are you sure to delete post: "+t.title+" ?")){var n=this.props.match.params.id;this.postService.deletePost(n).then(function(t){e.props.history.push("/posts")})}}},{key:"render",value:function(){var e=this,t=this.state.post;return t?r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Viewing Post"),r.a.createElement("p",null,r.a.createElement("b",null,"Title:")," ",t.title),r.a.createElement("p",null,r.a.createElement("b",null,"Body:")," ",t.body),r.a.createElement("p",null,r.a.createElement("b",null,"User:")," ",t.user_id),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/posts"},"Back")," ||",r.a.createElement(p.b,{to:"/posts/"+t.id+"/edit"},"Edit")," ||",r.a.createElement("a",{href:"#",onClick:function(){return e.onDelete()}},"Delete")),r.a.createElement("p",null,r.a.createElement("img",{src:"https://avatars2.githubusercontent.com/u/9274?s=460&v=4"}))):null}}]),t}(a.Component),w=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).postService=new y,n.handleInputChange=n.handleInputChange.bind(Object(f.a)(n)),n.state={post:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getPost()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getPost()}},{key:"getPost",value:function(){var e=this,t=this.props.match.params.id;this.postService.getPost(t).then(function(t){e.setState({post:t})})}},{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name,a=Object.assign({},this.state);a.post[n]=t,this.setState(a)}},{key:"onSubmit",value:function(){var e=this;this.postService.updatePost(this.state.post).then(function(t){e.props.history.push("/posts/"+e.state.post.id)})}},{key:"render",value:function(){var e=this,t=this.state.post;return t?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Edit Post"),r.a.createElement("p",null,r.a.createElement("b",null,"Title:"),r.a.createElement("input",{name:"title",value:t.title,maxLength:"40",required:!0,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("b",null,"Body:"),r.a.createElement("textarea",{name:"body",value:t.body,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Save"),r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/posts/"+t.id},"Back"))):null}}]),t}(a.Component),C=n(28),x=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).postService=new y,n.handleInputChange=n.handleInputChange.bind(Object(f.a)(n)),n.onSubmit=n.onSubmit.bind(Object(f.a)(n)),n.state={post:{title:"",body:""}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name,a=Object.assign(Object(C.a)({},n,t),this.state);a.post[n]=t,this.setState(a)}},{key:"onSubmit",value:function(){var e=this;this.postService.createPost(this.state.post).then(function(t){e.props.history.push("/posts/"+t.id)})}},{key:"render",value:function(){var e=this,t=this.state.post;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"New Post"),r.a.createElement("p",null,r.a.createElement("b",null,"Title:"),r.a.createElement("input",{name:"title",value:t.title,maxLength:"40",required:!0,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("b",null,"Body:"),r.a.createElement("textarea",{name:"body",value:t.body,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Save"),r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/posts"},"Back")))}}]),t}(a.Component),I=function(){function e(){Object(o.a)(this,e),this.config=new O}return Object(l.a)(e,[{key:"retrieveSecrets",value:function(){var e=Object(j.a)(v.a.mark(function e(){var t,n=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3000/api/secrets.json",t={},e.abrupt("return",fetch("http://localhost:3000/api/secrets.json",{headers:t}).then(function(e){return e.ok||n.handleResponseError(e),e.json()}).then(function(e){return e}).catch(function(e){n.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getSecret",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/secrets/"+t+".json",a={},e.abrupt("return",fetch(n,{headers:a}).then(function(e){return e.ok||r.handleResponseError(e),e.json()}).then(function(e){return e}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"createSecret",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:3000/api/secrets.json",n={"Content-Type":"application/json"},e.abrupt("return",fetch("http://localhost:3000/api/secrets.json",{method:"POST",mode:"cors",headers:n,body:JSON.stringify(t)}).then(function(e){return e.ok||a.handleResponseError(e),e.json()}).catch(function(e){a.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"deleteSecret",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/secrets/"+t+".json",a={},e.abrupt("return",fetch(n,{method:"DELETE",mode:"cors",headers:a}).then(function(e){e.ok||r.handleResponseError(e)}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"updateSecret",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/secrets/"+t.id+".json",a={"Content-Type":"application/json"},e.abrupt("return",fetch(n,{method:"PATCH",mode:"cors",headers:a,body:JSON.stringify(t)}).then(function(e){return e.ok||r.handleResponseError(e),e.json()}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleResponseError",value:function(e){throw new Error("HTTP error, status = "+e.status)}},{key:"handleError",value:function(e){alert(e.message)}}]),e}(),P=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).secretService=new I,n.state={secrets:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSecrets()}},{key:"getSecrets",value:function(){var e=this;this.secretService.retrieveSecrets().then(function(t){e.setState({secrets:t})})}},{key:"render",value:function(){var e=this.state.secrets;return e?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Secrets"),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/secrets/new"},"New Secret")),r.a.createElement("table",{className:"secrets"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Value"),r.a.createElement("th",null,"User"))),r.a.createElement("tbody",null,e.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.value),r.a.createElement("td",null,e.user_id),r.a.createElement("td",null,r.a.createElement(p.b,{to:"/secrets/"+e.id},"Show")))})))):null}}]),t}(a.Component),M=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).secretService=new I,n.state={secret:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSecret()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getSecret()}},{key:"getSecret",value:function(){var e=this,t=this.props.match.params.id;"new"!=t&&this.secretService.getSecret(t).then(function(t){e.setState({secret:t})})}},{key:"onDelete",value:function(){var e=this,t=this.state.secret;if(window.confirm("Are you sure to delete secret: "+t.title+" ?")){var n=this.props.match.params.id;this.secretService.deleteSecret(n).then(function(t){e.props.history.push("/secrets")})}}},{key:"render",value:function(){var e=this,t=this.state.secret;return t?r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Viewing Secret"),r.a.createElement("p",null,r.a.createElement("b",null,"Name:")," ",t.name),r.a.createElement("p",null,r.a.createElement("b",null,"Value:")," ",t.value),r.a.createElement("p",null,r.a.createElement("b",null,"User:")," ",t.user_id),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/secrets"},"Back")," ||",r.a.createElement(p.b,{to:"/secrets/"+t.id+"/edit"},"Edit")," ||",r.a.createElement("a",{href:"#",onClick:function(){return e.onDelete()}},"Delete"))):null}}]),t}(a.Component),N=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).secretService=new I,n.handleInputChange=n.handleInputChange.bind(Object(f.a)(n)),n.state={secret:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSecret()}},{key:"componentDidUpdate",value:function(e){this.props.match.params.id!==e.match.params.id&&this.getSecret()}},{key:"getSecret",value:function(){var e=this,t=this.props.match.params.id;this.secretService.getSecret(t).then(function(t){e.setState({secret:t})})}},{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name,a=Object.assign({},this.state);a.secret[n]=t,this.setState(a)}},{key:"onSubmit",value:function(){var e=this;this.secretService.updateSecret(this.state.secret).then(function(t){e.props.history.push("/secrets/"+e.state.secret.id)})}},{key:"render",value:function(){var e=this,t=this.state.secret;return t?r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"Edit Secret"),r.a.createElement("p",null,r.a.createElement("b",null,"Name:"),r.a.createElement("input",{name:"name",value:t.name,maxLength:"40",required:!0,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("b",null,"Value:"),r.a.createElement("textarea",{name:"value",value:t.value,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Save"),r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/secrets/"+t.id},"Back"))):null}}]),t}(a.Component),T=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).secretService=new I,n.handleInputChange=n.handleInputChange.bind(Object(f.a)(n)),n.state={secret:{name:"",value:""}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name,a=Object.assign(Object(C.a)({},n,t),this.state);a.secret[n]=t,this.setState(a)}},{key:"onSubmit",value:function(){var e=this;this.secretService.createSecret(this.state.secret).then(function(t){e.props.history.push("/secrets/"+t.id)})}},{key:"render",value:function(){var e=this,t=this.state.secret;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"New Secret"),r.a.createElement("p",null,r.a.createElement("b",null,"Name:"),r.a.createElement("input",{name:"name",value:t.name,maxLength:"40",required:!0,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("b",null,"Value:"),r.a.createElement("textarea",{name:"value",value:t.value,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("button",{onClick:function(){return e.onSubmit()}},"Save"),r.a.createElement("br",null)),r.a.createElement("p",null,r.a.createElement(p.b,{to:"/secrets"},"Back")))}}]),t}(a.Component),A=function(){function e(){Object(o.a)(this,e)}return Object(l.a)(e,[{key:"getSettings",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/settings/".concat(t,".json"),a={},e.abrupt("return",fetch(n,{headers:a}).then(function(e){return e.ok||r.handleResponseError(e),e.json()}).then(function(e){return e}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"getSlowRequest",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a,r=this;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="http://localhost:3000/api/slow_request.json?sleep_for=".concat(t),a={},e.abrupt("return",fetch(n,{headers:a}).then(function(e){return e.ok||r.handleResponseError(e),e.json()}).then(function(e){return e}).catch(function(e){r.handleError(e)}));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleResponseError",value:function(e){throw new Error("HTTP error, status = "+e.status)}},{key:"handleError",value:function(e){alert(e.message)}}]),e}(),L=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).settingsService=new A,n.state={moreSettings:null},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.getSettings()}},{key:"getSettings",value:function(){var e=this;this.settingsService.getSettings("two").then(function(t){e.setState({moreSettings:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Hello World here are the settings two:"),r.a.createElement("p",null,this.state.moreSettings&&this.state.moreSettings.hello),r.a.createElement("p",null,"Don't forget to read our ",r.a.createElement(p.b,{to:"/about"},"about us")," page!"))}}]),t}(r.a.Component),R=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).settingsService=new A,n.state={settings:null,showMoreSettings:!1},n.toggleMoreSetting=n.toggleMoreSetting.bind(Object(f.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"toggleMoreSetting",value:function(){this.setState({showMoreSettings:!this.state.showMoreSettings})}},{key:"componentDidMount",value:function(){this.getSettings()}},{key:"getSettings",value:function(){var e=this;this.settingsService.getSettings("one").then(function(t){e.setState({settings:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,"Hello World here are the settings one:"),r.a.createElement("p",null,this.state.settings&&this.state.settings.hello),r.a.createElement("p",null,"Don't forget to read our ",r.a.createElement(p.b,{to:"/about"},"about us")," page!"),r.a.createElement("p",null,"Would you like to see more settings? ",r.a.createElement("button",{onClick:this.toggleMoreSetting},"Yes, Show me!")),this.state.showMoreSettings&&r.a.createElement(L,{auth:this.props.auth}))}}]),t}(r.a.Component),D=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={showSettings:!1},n.toggleSetting=n.toggleSetting.bind(Object(f.a)(n)),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"login",value:function(){this.props.auth.login()}},{key:"toggleSetting",value:function(){this.setState({showSettings:!this.state.showSettings})}},{key:"render",value:function(){var e=this.props.auth.isAuthenticated;return r.a.createElement("div",{className:"container"},e()&&r.a.createElement("h4",null,"You are logged in!"),!e()&&r.a.createElement("h4",null,"You are not logged in! Please"," ",r.a.createElement("a",{style:{cursor:"pointer"},onClick:this.login.bind(this)},"Log In")," ","to continue."),r.a.createElement("p",null,"Home: Are you logged in? ",e()?"Yes":"No"),r.a.createElement("button",{onClick:this.toggleSetting},"Settings"),r.a.createElement("button",null,"Hello World"),this.state.showSettings&&r.a.createElement(R,{auth:this.props.auth}))}}]),t}(a.Component),U=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"About Us"),r.a.createElement("p",null,"We are a team of dedicated individuals, working hard to bring you the great React apps."))}}]),t}(r.a.Component),_=n(44),q=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleInputChange=n.handleInputChange.bind(Object(f.a)(n)),n.onSubmit=n.onSubmit.bind(Object(f.a)(n)),n.state={user:{},incorrectLogin:!1},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target.value,n=e.target.name,a=Object.assign({},this.state);a.user[n]=t,this.setState(a)}},{key:"onSubmit",value:function(){var e=Object(j.a)(v.a.mark(function e(t){var n,a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,this.props.auth.login(this.state.user.email,this.state.user.password);case 3:void 0!=(n=e.sent).error?this.setState({user:{},incorrectLogin:!0}):((a=Object.assign({},this.state)).user={name:n.name},this.setState(a),this.props.history.push("/secrets"));case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:this.onSubmit},this.state.incorrectLogin&&r.a.createElement(_.a,{variant:"danger"},"Incorrect login."),r.a.createElement("p",null,r.a.createElement("b",null,"Email:"),r.a.createElement("input",{name:"email",required:!0,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("b",null,"Password:"),r.a.createElement("input",{name:"password",type:"password",required:!0,onChange:this.handleInputChange})),r.a.createElement("p",null,r.a.createElement("button",{type:"submit",id:"login-button"},"Login"))))}}]),t}(a.Component),B=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={},n.settingsService=new A,n.settingsService.getSlowRequest(n.props.sleepFor).then(function(e){n.setState({message:e.message})}),n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"A page that queries a very slow request"),r.a.createElement("p",null,"The request should take ",this.props.sleepFor," seconds to complete. Have fun waiting!"),r.a.createElement("p",null,this.state.message&&this.state.message))}}]),t}(a.Component),H=n(17),J=(Object(H.a)(),function(){function e(){Object(o.a)(this,e),this.login=this.login.bind(this),this._loginRequest=this._loginRequest.bind(this),this.logout=this.logout.bind(this),this.isAuthenticated=this.isAuthenticated.bind(this),this.currentUser=this.currentUser.bind(this)}return Object(l.a)(e,[{key:"login",value:function(){var e=Object(j.a)(v.a.mark(function e(t,n){var a;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._loginRequest(t,n);case 2:return void 0!=(a=e.sent).error?console.log("Error logging in: ".concat(a.error)):(localStorage.setItem("currentUser",a.name),console.log("Logged in as: ".concat(a.email))),e.abrupt("return",a);case 5:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"_loginRequest",value:function(){var e=Object(j.a)(v.a.mark(function e(t,n){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch("http://localhost:3000/api/users/sign_in.json",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify({user:{email:t,password:n}})}).then(function(e){return e.json()}).catch(function(e){alert(e)}));case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){localStorage.removeItem("currentUser")}},{key:"isAuthenticated",value:function(){return null!==localStorage.getItem("currentUser")}},{key:"currentUser",value:function(){return localStorage.getItem("currentUser")}}]),e}()),W=n(24),V=n(43),F=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=new J;return r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement("header",null,r.a.createElement(W.a,{bg:"primary",variant:"dark"},r.a.createElement(W.a.Brand,{href:"#home"},"React Example App"),r.a.createElement(W.a.Collapse,{className:"justify-content-end"},!e.isAuthenticated()&&r.a.createElement(W.a.Text,null,r.a.createElement(p.b,{to:"/login"},"Login")),e.isAuthenticated()&&r.a.createElement(W.a.Text,null,"Signed in as: ",e.currentUser()," | ",r.a.createElement("a",{href:"#",onClick:e.logout,id:"logout-link"},"Log Out"))))),r.a.createElement(V.a,null,r.a.createElement(m.a,{path:"/",render:function(t){return r.a.createElement(d,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(D,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/about",render:function(t){return r.a.createElement(U,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/chat",render:function(t){return r.a.createElement(b,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(q,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/posts",render:function(t){return r.a.createElement(S,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/posts/new",render:function(t){return r.a.createElement(x,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/posts/:id",render:function(t){return r.a.createElement(k,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/posts/:id/edit",render:function(t){return r.a.createElement(w,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/secrets/",render:function(t){return r.a.createElement(P,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/secrets/new",render:function(t){return r.a.createElement(T,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/secrets/:id",render:function(t){return r.a.createElement(M,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/secrets/:id/edit",render:function(t){return r.a.createElement(N,Object.assign({auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/slow",render:function(t){return r.a.createElement(B,Object.assign({sleepFor:4,auth:e},t))}}),r.a.createElement(m.a,{exact:!0,path:"/really_slow",render:function(t){return r.a.createElement(B,Object.assign({sleepFor:6,auth:e},t))}}))))}}]),t}(r.a.Component);c.a.render(r.a.createElement(F,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4bb64259.chunk.js.map